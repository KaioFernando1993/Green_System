<mvc:View controllerName="application.controller.HomePage"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:sfb="sap.ui.comp.smartfilterbar"
    xmlns:main="sap.ui.webc.main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    height="100%"
>

    <Page title="{i18n>title}">
        <!-- Formulário de Filtros -->
        <smartForm:SmartForm class="sapUiSmallMargin" id="smartForm" editable="true" useHorizontalLayout="true" >
            <smartForm:Group>
            <!-- Grupo de Filtros (Column 1) -->
                <smartForm:GroupElement class="sapUiResponsiveMargin" visible="{visibleModel>/filters}">
                    <VBox>
                        <!-- Pesquisar -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>search}" />
                            <SearchField value="{visibleModel>/data/searchQuery/value}" placeholder="{i18n>keySearch}" width="100%" id="onSearch1"/>
                        </VBox>
                        <!-- Code BP -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>codeBp}" />
                            <SearchField value="{visibleModel>/data/codeBpQuery/value}" placeholder="{i18n>keySearch}" width="100%" id="onSearchCodeBp"/>
                        </VBox>
                        <!-- Existe Bloqueio -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>existBlock}" />
                            <Input
                                value="{visibleModel>/data/existBlock/value}"
                                id="existBlockInput"
                                placeholder="{i18n>filter}"
                                showSuggestion="true"
                                showValueHelp="true">
                                <suggestionItems>
                                    <core:Item text="BLOQUEADO" />
                                    <core:Item text="NÃO BLOQUEADO" />
                                </suggestionItems>
                            </Input>
                        </VBox>
                    </VBox>
                </smartForm:GroupElement>

            <!-- Grupo de Filtros (Column 2) -->
                <smartForm:GroupElement class="sapUiResponsiveMargin" visible="{visibleModel>/filters}">
                    <VBox>
                        <!-- Avaliação sócioambiental -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>avaliable}" />
                            <Select 
                                forceSelection="false" 
                                value="{visibleModel>/data/avaliable/value}"
                                change="handleChange" 
                                width="100%">
                                <items>
                                    <core:ListItem icon="sap-icon://e-care" text="Milho" />
                                    <core:ListItem icon="sap-icon://e-care" text="Biomassa" />
                                    <core:ListItem icon="sap-icon://e-care" text="Nutrição Animal" />
                                </items>
                            </Select>
                        </VBox>
                        <!-- CPF CNPJ -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>identification}" />
                            <Input
                                id="identificationInput"
                                placeholder="{i18n>filter}"
                                showSuggestion="true"
                                showValueHelp="true"
                                value="{visibleModel>/data/identification/value}">
                                <suggestionItems>
                                    <core:Item key="Cpf" text="Cpf" />
                                    <core:Item key="Cnpj" text="Cnpj" />
                                </suggestionItems>
                            </Input>
                        </VBox>
                        <!-- Data Bloqueio -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>dateBlock}" />
                            <Input
                                id="dateBlockInput"
                                placeholder="{i18n>filter}"
                                showSuggestion="true"
                                showValueHelp="true"
                                value="{visibleModel>/data/dateBlock/value}">
                                <suggestionItems>
                                    <core:Item key="" text="{Name}" />
                                    <core:Item key="Não se aplica" text="Não se aplica" />
                                </suggestionItems>
                            </Input>
                        </VBox>
                    </VBox>
                </smartForm:GroupElement>

            <!-- Grupo de Filtros (Column 3) -->
                <smartForm:GroupElement class="sapUiResponsiveMargin" visible="{visibleModel>/filters}">
                    <VBox>
                        <!-- Tipo de Parceiro -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>typePartner}" />
                                <Select value="{visibleModel>/data/typePartner/value}" change="handleChange" width="100%">
                                    <items>
                                        <core:Item key="placeholder" text="{i18n>select}" enabled="false"/>
                                        <core:Item text="?" />
                                        <core:Item text="?" />
                                        <core:Item text="?" />
                                    </items>
                                </Select>
                        </VBox>
                        <!-- Nome BP -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>nameBp}" />
                            <Input
                                id="nameBpInput"
                                placeholder="{i18n>filter}"
                                showSuggestion="true"
                                showValueHelp="true"
                                value="{visibleModel>/data/nameBp/value}">
                                <suggestionItems>
                                    <core:Item key="" text="" />
                                </suggestionItems>
                            </Input>
                        </VBox>
                        <!-- Satatus -->
                        <VBox class="sapUiTinyMargin">
                            <Label text="{i18n>status}" />
                            <Input
                                id="statusInput"
                                placeholder="{i18n>filter}"
                                showSuggestion="true"
                                showValueHelp="true"
                                value="{visibleModel>/data/status/value}">
                                <suggestionItems>
                                    <core:Item key="COM DETECÇÃO" text="COM DETECÇÃO" />
                                    <core:Item key="SEM DETECÇÃO" text="SEM DETECÇÃO" />
                                </suggestionItems>
                            </Input>
                        </VBox>
                    </VBox>
                </smartForm:GroupElement>

                <!-- Cloumn 4 -->
                <smartForm:GroupElement class="sapUiResponsiveMargin">

                    <VBox class="sapUiTinyMargin" >
                        <!-- Buttons -->
                        <HBox class="sapUiTinyMargin">
                            <Button 
                                text="{i18n>btnFilter}" 
                                class="sapUiTinyMargin" 
                                type="Emphasized" 
                                press="onFilterPress"/> <!-- Filtrar -->
                            <Button 
                                text="{= ${visibleModel>/filters} ? ${i18n>btnHideFilterClose} : ${i18n>btnHideFilterOpen} }"
                                class="sapUiTinyMargin btnDefault" 
                                type="Default" 
                                press="onHideFiltersPress"/><!-- Visualizar Filtros -->
                        </HBox>
                        <!-- Tipo BP -->
                            <VBox class="sapUiTinyMargin" width="80%" visible="{visibleModel>/filters}">
                                <Label text="{i18n>typeBp}" />
                                <Input
                                    id="typeBpInput"
                                    placeholder="{i18n>filter}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    value="{visibleModel>/data/typeBp/value}">
                                    <suggestionItems>
                                        <core:Item key="Cliente" text="Cliente" />
                                        <core:Item key="Fornecedor" text="Fornecedor" />
                                    </suggestionItems>
                                </Input>
                            </VBox>
                            <!-- tipo de Cadastro -->
                            <VBox class="sapUiTinyMargin" width="80%" visible="{visibleModel>/filters}">
                                <Label text="{i18n>typeDateRegister}" />
                                <Input
                                    id="typeDateRegisterInput"
                                    placeholder="{i18n>filter}"
                                    showSuggestion="true"
                                    showValueHelp="true"
                                    value="{visibleModel>/data/typeDateRegister/value}">
                                    <suggestionItems>
                                        <core:Item text="{Name}" />
                                    </suggestionItems>
                                </Input>
                            </VBox>
                        </VBox>
                </smartForm:GroupElement>
            </smartForm:Group>
        </smartForm:SmartForm>
        <!-- Table Filters -->
        <Panel class="sapUiSmallMargin" >
        <Table id="myTable" items="{tableModel>/items}" >
            <columns>
               <Column >
                  <Label text="{i18n>tbCode}"/>
               </Column>
               <Column width="10rem">
                  <Label text="{i18n>tbIdentification}"/>
               </Column>
               <Column>
                  <Label text="{i18n>tbName}"/>
               </Column>
               <Column>
                  <Label text="{i18n>tbType}"/>
               </Column>
               <Column width="9rem">
                  <Label text="{i18n>tbExistBlock}"/>
               </Column>
               <Column>
                  <Label text="{i18n>tbDateBlock}"/>
               </Column>
               <Column  width="9rem">
                  <Label text="{i18n>tbState}"/>
               </Column>
               <Column>
                  <Label text="{i18n>tbDateRegister}"/>
               </Column>
               <Column>
                <Label/><!-- coluna para Panel-->
             </Column>
            </columns>
            <items>
               <ColumnListItem type="Navigation" press="onClickToDetail">
                  <cells>
                     <Text text="{tableModel>Code}"/>
                     <Text text="{tableModel>Identification}"/>
                     <Text text="{tableModel>Name}"/>
                     <Text text="{tableModel>Type}"/>
                     <main:Badge 
                        text="{tableModel>ExistBlock}" 
                        colorScheme="{
                            path: 'tableModel>ExistBlock', 
                            formatter: '.formatter.formatExistBlockColorScheme'}" />
                     <Text text="{tableModel>DateBlock}" />
                     <main:Badge 
                        text="{tableModel>State}" 
                        colorScheme="{
                            path: 'tableModel>State', 
                            formatter: '.formatter.formatStateColorScheme'}" />
                     <Text text="{tableModel>DateRegister}"/>
                     <Label src="sap-icon://edit"/>
                  </cells>
               </ColumnListItem>
            </items>
         </Table>
        </Panel>
    </Page>
</mvc:View>
